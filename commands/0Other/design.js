import axios from 'axios';
import fs from 'fs';
import path from 'path';
import process from 'process';

export default {
  name: "Ù‚Ø§Ø¦Ù…Ø©",
  author: "Thiá»‡u Trung KiÃªn",
  cooldowns: 50,
  description: "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø±",
  role: "member",
  aliases: ["menu", "2"],
  execute: async ({ api, event, Users, Threads, Economy }) => {

    api.setMessageReaction("ğŸ“œ", event.messageID, () => {}, true);
    // ØªØ­Ø¯ÙŠØ¯ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù†Øµ
    const imageURLs = [
      "https://tinyurl.com/yd2duczc",
      "https://i.imgur.com/MKbL8VF.jpeg",
      "https://i.imgur.com/QSwWGMQ.jpeg",
      "https://i.imgur.com/XmgDa3K.jpeg",
      "https://i.imgur.com/gFjHTY7.jpeg",
      "https://i.imgur.com/7GWFLkr.jpeg",
      "https://i.imgur.com/9PFF8jn.jpeg"
    ];

    const messageText =`\t\t\t\t\t\t\tà¼’â˜¾Ù‚Ù€Ù€Ù€Ù€Ø§Ø¦Ù€Ù€Ù€Ù€Ù€Ù…Ù€Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ù€Ù€Ù€Ù€Ø§ÙˆØ§Ù…Ù€Ù€Ù€Ù€Ù€Ø±â˜½à¼’ 
  
   à¼ºâœ¿ÙÙ€â­ï¸Ù€Ø¦Ø©Ù‘ Ø¢Ù„ÙØ£Ù„ÙØ¹Ù€â­ï¸Ù€Ø¢Ø¨Ù€â­ï¸Ù€âœ¿à¼»

  âØªÙÙƒÙŠÙƒ  âØ±Ø£Ø³_Ø£Ùˆ_ÙˆØ¬Ù‡  âØ´Ø§Ø±Ø§Øª  âØ­Ø¬Ø±_ÙˆØ±Ù‚Ø©_Ù…Ù‚Øµ  âØ´Ø®ØµÙŠØ§Øª âØ§ÙŠÙ…ÙˆØ¬ÙŠ âØ§Ù„Ø§Ø³Ø±Ø¹ âØ§ÙƒØ³_Ø§Ùˆ âØ­Ù‚ÙŠÙ‚Ø©&Ø¬Ø±Ø£Ø© âÙØ²ÙˆØ±Ø©


à¼ºÙÙ€Ù€Ù€Ù€Ø¦Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ø§Ù‚Ù€Ù€Ù€Ù€Ù€Ù€ØªÙ€Ù€Ù€Ù€Ù€ØµÙ€Ù€Ù€Ø§Ø¯à¼»

â‚Ø¹Ù…Ù„ â‚Ù‡Ø¯ÙŠØ© â‚Ù†Ù‚Ø§Ø· â‚Ø±ØµÙŠØ¯ÙŠ â‚ØµØ±Ù â‚ØªÙˆØ¨ â‚ÙƒÙ‡Ù

à¼ºÙÙ€Ù€Ù€Ù€Ø¦Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ø®Ù€Ù€Ù€Ù€Ø¯Ù…Ù€Ù€Ù€Ù€Ù€Ù€Ø§Øªà¼»
  
 âœºØ¥Ø²Ø§Ù„Ø©_Ø§Ù„Ø®Ù„ÙÙŠØ©  âœºØ¨ÙŠØ§Ù†Ø§Øª âœºØ§ÙŠØ¯ÙŠ âœºØªØ¹Ø§Ù„Ùˆ  
 âœºÙ…Ø²Ø¬ âœºØ§Ø±Øª âœºØªÙ„ÙˆÙŠÙ† âœºØªØ±Ø¬Ù…ÙŠ âœºØªØ·Ù‚ÙŠÙ… âœºØªØ·Ù‚ÙŠÙ…2 âœºØ°ÙƒØ±ÙŠÙ†ÙŠ âœºØªØ­Ù…ÙŠÙ„ âœºØºÙ†ÙŠ âœºÙŠÙˆØªÙŠÙˆØ¨ âœºØ±Ø§Ø¨Ø· âœºØ±Ø§Ø¨Ø·2 âœºØ±Ø§Ø¨Ø·3  âœºØ±Ø§Ø¨Ø·4 âœºØ£Ø®Ø¨Ø§Ø±_Ø§Ù„Ø£Ù†Ù…ÙŠ âœºØ£ÙˆØ¨Ø³ØªØ§ÙŠØª âœºÙÙŠØ³Ø¨ÙˆÙƒ âœºØ§Ù†Ø³ØªØºØ±Ø§Ù…
âœºØ§Ù„Ø·Ù‚Ø³ âœºØ£Ù…Ø§Ø²ÙˆÙ† âœºØ¶ÙŠÙÙŠÙ†ÙŠ âœºÙ…Ù„ØµÙ‚ âœºØºÙ†ÙŠ âœºØµÙˆØ± âœºØ¬ÙˆØ¬Ù„ âœºÙ‚Ø±Ø¢Ù† âœºÙƒÙ†ÙŠØ© âœºØªÙŠØ¯ âœºØ§ÙˆØ§Ù…Ø± âœºØ¹Ù…Ø±ÙŠ âœºÙˆÙŠÙƒÙŠØ¨ÙŠØ¯ÙŠØ§ âœºØ¥ÙŠÙ…ÙˆØ¬ÙŠ âœºØ§Ù„Ù…Ø¹Ø±Ù âœºØ¯Ù…Ø¬ âœºØ²Ø®Ø±ÙØ©  âœºØ¬ÙˆØ¯Ø©  âœºØªØ­ÙˆÙŠÙ„ âœºØ¢ÙŠØ¯ÙŠ âœºÙ…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ âœºÙ†ØµÙŠØ­Ø© âœºØ§Ø·Ø±Ø¯ÙŠÙ†ÙŠ âœºØ§Ù†Ø¶Ù…Ø§Ù… âœºÙ…Ø´ØºÙˆÙ„

à¼ºâœ¿ÙÙ€Ù€Ù€Ù€Ø¦Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ø°ÙƒÙ€Ù€Ù€Ù€Ù€Ø§Ø¡âœ¿à¼»
   
â™”ØªØ®ÙŠÙ„ÙŠ â™”ØªØ®ÙŠÙ„ÙŠ2 â™”Ø§Ø±Ø³Ù…ÙŠ â™”Ø§Ø±Ø³Ù…ÙŠ2 â™”ÙƒØ§ØºÙˆÙŠØ§ â™”Ø°ÙƒØ§Ø¡ 
â™”Ù†ÙŠØ¬ÙŠ â™”Ø§Ø³ØªÙŠÙƒØ± â™”Ø¨Ø±ÙˆÙ…Ø¨Øª

à¼ºâœ¿ÙÙ€Ù€Ù€Ù€Ø¦Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ù€Ù€Ù€Ù€Ù€Ù…Ù€Ù€Ù€Ù€ØªÙ€Ù€Ù€Ø¹Ù€Ù€Ù€Ø©âœ¿à¼»
  
â€Ø±Ù‚Øµ â€Ø§ÙÙ„Ø§Ù… â€ÙƒØ±Ø§Ø´ â€Ø´Ø§Ø° â€Ø³ÙŠØ¬Ù…Ø§ â€Ø£Ù†Ù…ÙŠ2 â€Ø§Ù‚ØªØ¨Ø§Ø³ â€Ø´Ø®ØµÙŠØªÙŠ â€Ù…Ù‚Ø·Ø¹_Ø£Ù†Ù…ÙŠ â€Ø¥Ø¹Ø¬Ø§Ø¨ â€Ø²ÙˆØ¬ÙŠÙ†ÙŠ â€Ù†ÙŠØ²ÙƒÙˆ â€Ø§ØµÙØ¹ÙŠ â€Ø¢ÙŠÙÙˆÙ† â€Ø¹Ù„Ù…Ù†ÙŠ â€Ø­Ø¶Ù† â€Ø§Ø¹Ø¬Ø§Ø¨ â€Ø£Ø²ÙŠØ§Ø¡ â€Ù‚ÙˆÙ„ÙŠ â€ÙˆÙ†Ø¨ÙŠØ³ â€Ù‚Ø¨Ø± â€ÙØªÙŠØ§Øª â€Ù…Ø±Ø­Ø§Ø¶ â€Ø²ÙˆØ§Ø¬ â€ØºÙ…ÙˆØ¶ â€Ø·Ù„Ø¨ â€Ù…Ø§Ø°Ø§_Ù„Ùˆ â€Ø®Ù„ÙÙŠØ§Øª â€Ø³Ø¨ÙŠØ¯Ø±Ù…Ø§Ù† â€Ø´Ù†Ù‚ â€Ù…Ø·Ù„ÙˆØ¨ â€Ø§Ù†Ù…ÙŠØ§Øª â€Ø´Ø®ØµÙŠØªÙŠ_Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠØ© â€Ø²ÙˆØ¬Ø©
â€ØªØµÙ…ÙŠÙ… â€ØªØµÙ…ÙŠÙ…2 â€ØªØµÙ…ÙŠÙ…3 â€ØªØµÙ…ÙŠÙ…4 â€ØªØµÙ…ÙŠÙ…5 â€ØªØµÙ…ÙŠÙ…6
à¼ºâœ¿ÙÙ€Ù€Ù€Ù€Ø¦Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ù€Ù€Ù€Ù€Ù€Ù…Ù€Ù€Ù€Ù€Ø·Ù€Ù€Ù€Ù€Ù€Ù€ÙˆØ±âœ¿à¼»
  
â™›Ù‚Ø¨ÙˆÙ„ â™›Ø·Ù„Ø¨Ø§Øª â™›ØºØ§Ø¯Ø±ÙŠ â™›Ø§Ù„Ù…Ø·ÙˆØ± â™›Ù…ÙˆØ§ÙÙ‚Ø© â™›Ø§Ù„Ù…ØªØ¬Ø± â™›Ø¢Ø¯Ù…Ù† â™›Ø±Ø¯_Ø§Ù„Ø¢Ø¯Ù…Ù† â™›ØªØ¬Ø±Ø¨Ø© â™›Ø¶Ø¨Ø·_Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø© â™›ÙƒÙ…Ù†Ø¯ â™›Ø¨Ø§ÙŠÙˆ â™›Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© â™›ØªØµÙÙŠØ© â™›Ø¥Ø´Ø¹Ø§Ø± â™›Ø§ÙˆØ¨ØªØ§ÙŠÙ… â™›Ú¤ÙŠÙˆ â™›Ø´Ø±Ø­ â™›Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… â™›Ù…Ø´Ø§Ø±ÙƒØ© â™›Ù„Ø§Ø³Øª

à¼ºÙÙ€Ù€Ù€Ù€Ø¦Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ù€Ù€Ù€Ù€Ù…Ù€Ù€Ø¬Ù€Ù€Ù…Ù€Ù€Ù€ÙˆØ¹Ù€Ù€Ø©à¼»
  
â†Ø­Ù…Ø§ÙŠØ©_Ø§Ù„Ø¥Ø³Ù… â†Ø­Ù…Ø§ÙŠØ©_Ø§Ù„ØµÙˆØ±Ø© â†Ø¶Ø¨Ø·_Ø¥ÙŠÙ…ÙˆØ¬ÙŠ â†Ø¶Ø¨Ø·_Ø§Ù„ØµÙˆØ±Ø© â†Ø¶Ø¨Ø·_Ø§Ù„Ø¥Ø³Ù…

à¼ºâœ¿Ø£ÙˆÙŒØ¢Ù…Ù€Ù€Ø± Ø¥Ø¶Ù€Ù€Ø¢ÙÙ€Ù€ÙŠÙ€Ù€Ø©Ù‘âœ¿à¼»

â˜ Ù‡ÙŠÙ†ØªØ§ÙŠ â˜ Ù…Ø«ÙŠØ± 

\t\tâ‰ªâ”ˆâ”ˆâ”ˆâ”ˆ â‹ âŒ© â£ âŒª â‹Ÿ â”ˆâ”ˆâ”ˆâ”ˆâ‰«
`;

    // ØªØ­Ø¯ÙŠØ¯ Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ©
    const imagePath = path.join(process.cwd(), "temp", "image.jpg");

    // Ø§Ø®ØªÙŠØ§Ø± Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    const imageURL = imageURLs[Math.floor(Math.random() * imageURLs.length)];

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
    try {
      const response = await axios({
        url: imageURL,
        responseType: 'stream',
      });

      // Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯
      const writer = fs.createWriteStream(imagePath);
      response.data.pipe(writer);

      // Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©
      writer.on('finish', () => {
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø©
        api.sendMessage({
          body: messageText,
          attachment: fs.createReadStream(imagePath),
        }, event.threadID, () => {
          // Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§
          fs.unlinkSync(imagePath);
        }, event.messageID);
      });

      writer.on('error', (err) => {
        console.error("Error writing the image to disk: ", err);
        api.sendMessage("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©.", event.threadID, event.messageID);
      });
    } catch (error) {
      console.error("Error downloading the image: ", error);
      api.sendMessage("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©.", event.threadID, event.messageID);
    }
  },
}; 
