import moment from "moment-timezone";
import axios from "axios";
import fs from "fs";
import path from "path";


// ØªØ­ÙˆÙŠÙ„ fs.unlink Ø¥Ù„Ù‰ promise
const unlinkAsync = promisify(fs.unlink);

export default {
  name: "Ø§Ù„ØªØ°ÙƒÙŠØ±-Ø§Ù„ÙŠÙˆÙ…ÙŠ",
  author: "kaguya project",
  role: "admin",
  description: "ÙŠØ±Ø³Ù„ Ø±Ø³Ø§Ø¦Ù„ ÙÙŠ Ø£ÙˆÙ‚Ø§Øª Ù…Ø­Ø¯Ø¯Ø© ÙƒÙ„ ÙŠÙˆÙ… Ù…Ø¹ ØµÙˆØ±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©.",
  execute: async ({ api, event }) => {
    const reminders = [
      { time: "10:00", message: `ÙˆÙ„ÙŠØ³ ÙƒÙ„ Ù…Ø§ØµØ±ÙÙ‡ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ùƒ Ø´Ø±ÙŒ Ù„Ùƒ Ù„Ø¹Ù„Ùƒ Ø£Ù†Øª Ø§Ù„Ø®ÙŠØ± Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ³ØªØ­Ù‚ÙˆÙ†Ù‡ ğŸ’™ğŸ’™.
ğ‘¨ğ’ğ’… ğ’ğ’ğ’• ğ’†ğ’—ğ’†ğ’“ğ’šğ’•ğ’‰ğ’Šğ’ğ’ˆ ğ’•ğ’‰ğ’‚ğ’• ğ‘®ğ’ğ’… ğ’”ğ’‘ğ’†ğ’ğ’• ğ’‡ğ’“ğ’ğ’ ğ’šğ’ğ’– ğ’Šğ’” ğ’†ğ’—ğ’Šğ’ ğ’‡ğ’ğ’“ ğ’šğ’ğ’–, ğ’‘ğ’†ğ’“ğ’‰ğ’‚ğ’‘ğ’” ğ’šğ’ğ’– ğ’‚ğ’“ğ’† ğ’•ğ’‰ğ’† ğ’ˆğ’ğ’ğ’… ğ’•ğ’‰ğ’‚ğ’• ğ’•ğ’‰ğ’†ğ’š ğ’…ğ’ ğ’ğ’ğ’• ğ’…ğ’†ğ’”ğ’†ğ’“ğ’—ğ’†.ğŸ’™ğŸ’™` },
      { time: "11:00", message: `Ù„Ø§ Ø´ÙŠ ÙŠØ¨Ù‚Ù€Ù€Ù€Ù‰ Ù„Ù„Ø£Ø¨Ø¯ Ø­ØªÙ‰ Ø§Ù„Ø´Ù…Ø³ Ø³Ù€ØªÚ¯Ø³Ø± Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ÙŠÙˆÙ…Ø§Ù‹ ÙˆØªØ´Ø±Ù‚ ØºØ±Ø¨Ø§Ù‹ Ù„ØªØ¹Ù„Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ©ğŸŒ·âœ¨
ğ‘µğ‘¶ğ‘»ğ‘¯ğ‘°ğ‘µğ‘® ğ‘¹ğ‘¬ğ‘´ğ‘¨ğ‘°ğ‘µğ‘º ğ‘­ğ‘¶ğ‘¹ğ‘¬ğ‘½ğ‘¬ğ‘¹, ğ‘¼ğ‘µğ‘»ğ‘°ğ‘³ ğ‘»ğ‘¯ğ‘¬ ğ‘ºğ‘¼ğ‘µ ğ‘¾ğ‘°ğ‘³ğ‘³ ğ‘©ğ‘¹ğ‘¬ğ‘¨ğ‘² ğŸŒ·âœ¨` },
      { time: "12:00", message: `-ğ‘«ğ’ğ’'ğ’• ğ’•ğ’“ğ’–ğ’”ğ’• ğ’”ğ’ğ’ğ’†ğ’ğ’ğ’† ğ’‹ğ’–ğ’”ğ’• ğ’ƒğ’†ğ’„ğ’‚ğ’–ğ’”ğ’† ğ’šğ’ğ’– ğ’ğ’Šğ’Œğ’† ğ’•ğ’‚ğ’ğ’Œğ’Šğ’ğ’ˆğ‘¾ğ’Šğ’•ğ’‰ ğ’‰ğ’Šğ’, ğ’ğ’Šğ’‡ğ’† ğ’‰ğ’‚ğ’” ğ’ƒğ’†ğ’„ğ’ğ’ğ’† ğ’‚ğ’”ğ’‘ğ’†ğ’„ğ’•ğ’” ğ’•ğ’‰ğ’‚ğ’• ğ’šğ’ğ’– ğ’„ğ’‚ğ’ ğ’„ğ’ğ’ğ’•ğ’†ğ’ğ’‘ğ’ğ’‚ğ’•ğ’† ğ’˜ğ’†ğ’ğ’. ğŸ¦‹âœ¨
-Ù„Ø§ØªØ«Ù‚ Ø¨Ø´Ø®Øµ Ù„Ù…Ø¬Ø±Ø¯ Ø§Ø¹Ø¬Ø¨Ùƒ Ø§Ù„Ø­Ø¯ÙŠØ«
Ù…Ø¹Ø© ÙØ§Ù„Ø­ÙŠØ§Ø© Ø£ØµØ¨Ø­Øª Ù…Ø¸Ø§Ù‡Ø± ØªØ§Ù…Ù„ÙˆÙ‡Ø§ Ø¬ÙŠØ¯Ø§ .ğŸ¦‹âœ¨` },
      { time: "13:00", message: `"â€Ø§Ù„Ù†Ø¸Ø±Ø§Øª Ù‚Ø§Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ø®ØªØµØ§Ø± Ø­Ø¯ÙŠØ« 
Ù…Ù† Ø³Ø¨Ø¹ÙŠÙ† Ø£Ù„Ù ÙƒÙ„Ù…Ø©.ğŸ¤
â€œğ‘³ğ’ğ’ğ’Œğ’” ğ’„ğ’‚ğ’ ğ’”ğ’‰ğ’ğ’“ğ’•ğ’†ğ’ ğ’‚ ğ’„ğ’ğ’ğ’—ğ’†ğ’“ğ’”ğ’‚ğ’•ğ’Šğ’ğ’ 
ğ‘ºğ’†ğ’—ğ’†ğ’ğ’•ğ’š ğ’•ğ’‰ğ’ğ’–ğ’”ğ’‚ğ’ğ’… ğ’˜ğ’ğ’“ğ’…ğ’”ğŸ¤` },
      { time: "14:00", message: `ğ‘° ğ’ˆğ’‚ğ’—ğ’† ğ’ğ’š ğ’‡ğ’†ğ’†ğ’ğ’Šğ’ğ’ˆğ’” ğ’‚ğ’ğ’… ğ’†ğ’ğ’†ğ’“ğ’ˆğ’š ğ’ğ’ğ’„ğ’†, ğ’‚ğ’ğ’… ğ’‰ğ’†ğ’“ğ’† ğ‘° ğ’‡ğ’†ğ’ğ’ ğ’˜ğ’Šğ’•ğ’‰ ğ’ğ’š ğ’˜ğ’‰ğ’ğ’ğ’† ğ’˜ğ’†ğ’Šğ’ˆğ’‰ğ’• ğ’‚ğ’ğ’… ğ’„ğ’ğ’–ğ’ğ’… ğ’ğ’ğ’• ğ’ˆğ’†ğ’• ğ’–ğ’‘. ğŸ–¤
Ù„Ù‚Ø¯ ÙˆÙ‡Ø¨ØªÙ Ù…Ø´Ø§Ø¹Ø±ÙŠ Ùˆ Ø·Ø§Ù‚ØªÙŠ Ù…Ø±Ø©Ù‹ ÙˆØ§Ø­Ø¯Ø© ÙˆÙ‡Ø§ Ø£Ù†Ø§ Ø³ÙÙ‚Ø·Øª Ø¨Ø«Ù‚Ù„ÙŠ ÙƒÙ„Ù‡ Ùˆ Ù„Ù… Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„Ù†Ù‡ÙˆØ¶` },
      { time: "15:00", message: `Ù„Ø§ ÙŠÙ€Ù‡Ù€Ù…Ù€Ù†ÙŠ Ø¥Ù† ØºØ§Ø¯Ø±Ù†Ù€ÙŠ Ø§Ù„Ù€Ø¬Ù€Ù…ÙŠÙ€Ø¹ ØŒ ÙÙ€Ù…Ù€Ù†Ø° Ø§Ù„Ù€Ø¨Ù€Ø¯Ø§ÙŠÙ€Ø© Ø§Ø±Ø³Ù€Ù… Ù…Ù€Ø³Ù€ØªÙ€Ù‚Ø¨Ù„Ø§ Ù„Ø§ÙŠÙ€ÙˆØ¬Ù€Ø¯ ÙÙŠÙ‡ Ø§Ø­Ø¯..ğŸ¤ğŸª

ğ‘±ğ’† ğ’ğ’† ğ’‡ğ’Šğ’„ğ’‰ğ’† ğ’’ğ’–ğ’† ğ’•ğ’ğ’–ğ’• ğ’ğ’† ğ’ğ’ğ’ğ’…ğ’† ğ’ğ’† ğ’•ğ’“ğ’‚ğ’‰ğ’Šğ’”ğ’”ğ’†, ğ’…ğ’†ğ’‘ğ’–ğ’Šğ’” ğ’ğ’† ğ’…Ã©ğ’ƒğ’–ğ’• ğ’‹ğ’† ğ’…ğ’†ğ’”ğ’”ğ’Šğ’ğ’† ğ’–ğ’ ğ’‚ğ’—ğ’†ğ’ğ’Šğ’“ ğ’Ã¹ ğ’Šğ’ ğ’'ğ’š ğ’‚ ğ’‘ğ’†ğ’“ğ’”ğ’ğ’ğ’ğ’†..ğŸ¤ğŸªğŸ’—ğŸ¯` },
      { time: "16:00", message: `ğ‘¯ğ’ğ’˜ğ’†ğ’—ğ’†ğ’“ ğ’…ğ’Šğ’‡ğ’‡ğ’Šğ’„ğ’–ğ’ğ’• ğ’ğ’Šğ’‡ğ’† ğ’ğ’‚ğ’š ğ’”ğ’†ğ’†ğ’, ğ’•ğ’‰ğ’†ğ’“ğ’† ğ’Šğ’” ğ’‚ğ’ğ’˜ğ’‚ğ’šğ’” ğ’”ğ’ğ’ğ’†ğ’•ğ’‰ğ’Šğ’ğ’ˆ ğ’šğ’ğ’– ğ’„ğ’‚ğ’ ğ’…ğ’ ğ’‚ğ’ğ’… ğ’”ğ’–ğ’„ğ’„ğ’†ğ’†ğ’… ğ’‚ğ’•ğŸ©µâœ¨
â€Ù…Ù‡Ù…Ø§ Ø¨Ø¯Øª Ø§Ù„Ø­ÙŠØ§Ø© ØµØ¹Ø¨Ù‡ØŒ ÙŠÙˆØ¬Ø¯ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø´ÙŠØ¡ÙŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù†Ø¬Ø§Ø­ ÙÙŠÙ‡.ğŸ©µâœ¨` },
      { time: "17:00", message: `ğ˜¾ğ™§ğ™®ğ™ğ™£ğ™œ iğ™®s ğ™£ğ™¤ğ™© ğ™– ğ™¨ğ™ğ™œğ™£ ğ™¤ğ™› ğ™¬ğ™šğ™–ğ™ ğ™£ğ™šğ™¨ğ™¨. ğ™ğ™¤ğ™¢ğ™šğ™©ğ™ğ™¢ğ™šğ™¨ ğ™– ğ™¥ğ™šğ™§ğ™¨ğ™¤ğ™£ ğ™˜ğ™§ğ™ğ™šğ™¨ ğ™—ğ™šğ™˜ğ™–ğ™ªğ™¨ğ™š ğ™ğ™š ğ™ğ™–ğ™¨ ğ™—ğ™šğ™šğ™£ ğ™¨ğ™©ğ™§ğ™¤ğ™£ğ™œ ğ™›ğ™¤ğ™§ ğ™– ğ™¡ğ™¤ğ™£ğ™œ ğ™©ğ™ğ™¢ğ™š. ğŸ–¤ğŸ¥€
Ù„ÙŠØ³ Ø§Ù„Ø¨ÙƒØ§Ø¡ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¶Ø¹ÙØŒ Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ ÙŠØ¨ÙƒÙŠ Ø§Ù„Ø´Ø®Øµ Ù„Ø£Ù†Ù‡ ÙƒØ§Ù† Ù‚ÙˆÙŠ Ù„ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø©.ğŸ–¤ğŸ¥€` },
      { time: "18:00", message: `â€"Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù† Ø¨Ø¹Ø¶ Ø§Ù„Ù†Ø§Ø³ Ù‚Ø¯ Ù‚Ø¶ÙˆØ§ Ø§Ù„ÙˆÙ‚Øª Ù…Ø¹ÙŠ Ù„Ø£Ù†Ù‡Ù… ÙÙ‚Ø· ÙƒØ§Ù†ÙˆØ§ ÙˆØ­ÙŠØ¯ÙŠÙ†".ğŸ–¤ğŸ¥€
â€œğ™„ ğ™©ğ™ğ™ğ™£ğ™  ğ™¨ğ™¤ğ™¢ğ™š ğ™¥ğ™šğ™¤ğ™¥ğ™¡ğ™š ğ™¨ğ™¥ğ™šğ™£ğ™© ğ™©ğ™ğ™¢ğ™š ğ™¬ğ™ğ™©ğ™ ğ™¢ğ™š ğ™—ğ™šğ™˜ğ™–ğ™ªğ™¨ğ™š ğ™©ğ™ğ™šğ™® ğ™¬ğ™šğ™§ğ™š ğ™Ÿğ™ªğ™¨ğ™© ğ™¡ğ™¤ğ™£ğ™šğ™¡ğ™®.â€ğŸ–¤ğŸ¥€` },
      { time: "19:00", message: `Ø£Ù†Ø§ Ø°Ù„Ùƒ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ÙŠØ±Ø´Ø¯ Ø§Ù„ØªØ§Ø¦Ù‡ÙŠÙ† ÙˆÙ„Ø§ ÙŠØ¹Ø±Ù ÙƒÙŠÙ ÙŠØºØ§Ø¯Ø± Ø§Ù„Ù…ØªØ§Ù‡Ø©.ğŸ¤ğŸŒª

ğ’Š ğ’‚ğ’ ğ’•ğ’‰ğ’† ğ’‘ğ’†ğ’“ğ’”ğ’ğ’ ğ’˜ğ’‰ğ’ ğ’ˆğ’–ğ’Šğ’…ğ’†ğ’” ğ’•ğ’‰ğ’† ğ’˜ğ’‚ğ’ğ’…ğ’†ğ’“ğ’Šğ’ğ’ˆ ğ’‚ğ’ğ’… ğ’…ğ’ ğ’ğ’ğ’• ğ’Œğ’ğ’ğ’˜ ğ’‰ğ’ğ’˜ ğ’•ğ’ ğ’ğ’†ğ’‚ğ’—ğ’† ğ’•ğ’‰ğ’† ğ’ğ’‚ğ’›ğ’†.ğŸ¤ğŸŒª` },
      { time: "20:00", message: `Ø£Ù† ÙŠÙÙƒÙˆÙ† Ù„Ùƒ ØµÙØ¯ÙŠÙ‚ ÙŠÙØ±Ø§Ùƒ ÙˆÙƒØ£Ù†Ù‘Ùƒ Ø§Ù„Ø®ÙŠØ± ÙÙŠ
Ù‡Ø°Ù‡Ù Ø§Ù„Ø£Ø±Ø¶ØŒ Ø´ÙØ¹ÙˆØ± Ù„Ø§ ÙŠÙÙ…ÙƒÙ†Ùƒ Ø£Ù† ØªÙØ¶Ø¹Ù‡ ÙÙŠ
ÙƒÙ„Ù…Ø§ØªÙ Ù…ÙÙ†Ø§Ø³ÙØ¨Ø©.ğŸ’–"
ğ™ğ™¤ ğ™ğ™–ğ™«ğ™š ğ™– ğ™›ğ™§ğ™ğ™šğ™£ğ™™ ğ™¬ğ™ğ™¤ ğ™¨ğ™šğ™šğ™¨ ğ™®ğ™¤ğ™ª ğ™–ğ™¨ ğ™©ğ™ğ™š ğ™—ğ™šğ™¨ğ™© ğ™ğ™£ ğ™®ğ™¤ğ™ª
ğ™ğ™ğ™ğ™¨ ğ™šğ™–ğ™§ğ™©ğ™, ğ™– ğ™›ğ™šğ™šğ™¡ğ™ğ™£ğ™œ ğ™®ğ™¤ğ™ª ğ™˜ğ™–ğ™£'ğ™© ğ™¥ğ™ªğ™© ğ™ğ™£
ğ™ğ™ªğ™ğ™©ğ™–ğ™—ğ™¡ğ™š ğ™¬ğ™¤ğ™§ğ™™ğ™¨.ğŸ’–` },
      { time: "21:00", message: `-Ø§Ù„ØºØ§Ø¦Ø¨ÙˆÙ† Ø¨Ù„Ø§ Ø¹Ø°Ø± ÙƒØ§Ù„Ø­Ø§Ø¶Ø±ÙŠÙ† Ø¨Ù„Ø§ ÙØ§Ø¦Ø¯Ø© ØŒ ÙƒÙ„Ø§Ù‡Ù…Ø§ ÙŠØ´ØºÙ„ Ø­ÙŠØ²Ø§Ù‹ ï»» ÙŠØ³ØªØ­Ù‚Ù‡.ğŸ’¨
- ğ‘‡â„ğ‘œğ‘ ğ‘’ ğ‘¤â„ğ‘œ ğ‘ğ‘Ÿğ‘’ ğ‘ğ‘ğ‘ ğ‘’ğ‘›ğ‘¡ ğ‘¤ğ‘–ğ‘¡â„ğ‘œğ‘¢ğ‘¡ ğ‘’ğ‘¥ğ‘ğ‘¢ğ‘ ğ‘’ ğ‘ğ‘Ÿğ‘’ ğ‘™ğ‘–ğ‘˜ğ‘’ ğ‘¡â„ğ‘œğ‘ ğ‘’ ğ‘¤â„ğ‘œ ğ‘ğ‘Ÿğ‘’ ğ‘ğ‘Ÿğ‘’ğ‘ ğ‘’ğ‘›ğ‘¡ ğ‘¤ğ‘–ğ‘¡â„ğ‘œğ‘¢ğ‘¡ ğ‘ğ‘’ğ‘›ğ‘’ğ‘“ğ‘–ğ‘¡. ğµğ‘œğ‘¡â„ ğ‘œğ‘“ ğ‘¡â„ğ‘’ğ‘š ğ‘œğ‘ğ‘ğ‘¢ğ‘ğ‘¦ ğ‘ ğ‘ğ‘ğ‘ğ‘’ ğ‘¡â„ğ‘ğ‘¡ ğ‘¡â„ğ‘’ğ‘¦ ğ‘‘ğ‘œ ğ‘›ğ‘œğ‘¡ ğ‘‘ğ‘’ğ‘ ğ‘’ğ‘Ÿğ‘£ğ‘’.ğŸ’¨` }
      
    ];

    const imageUrls = [
      "https://i.imgur.com/L39Bu27.jpeg",
      "https://i.imgur.com/lTm8CtH.jpeg",
      "https://i.imgur.com/2GgRzqu.jpeg",
      "https://i.imgur.com/cl9dHRU.png",
      "https://i.imgur.com/tb5JrpZ.jpeg",
      "https://i.imgur.com/cObPoNO.jpeg",
      "https://i.imgur.com/rAfXyDp.jpeg",
      "https://i.imgur.com/2lJlHJA.jpeg",
      "https://i.imgur.com/tHVgnAv.jpeg",
      "https://i.imgur.com/4HIFOiZ.jpeg",
      "https://i.imgur.com/O7NTeg8.jpeg",
      "https://i.imgur.com/2B7aLoZ.jpeg",
      "https://i.postimg.cc/jdHzrm2N/image.webp",
      "https://i.postimg.cc/Hk3XrMQk/c54f35041041453456734f737bf6e99b8978731f-high.webp"
      // Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ù‡Ù†Ø§
    ];

    // Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­Ø¯Ø¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… moment-timezone
    function calculateDelay(targetTime, timezone) {
      const now = moment().tz(timezone);
      const target = moment.tz(targetTime, "HH:mm", timezone);

      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ù‚Ø¯ Ù…Ø±Ù‘ Ø¨Ø§Ù„ÙØ¹Ù„ Ø§Ù„ÙŠÙˆÙ…ØŒ Ù†Ø­Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ
      if (target.isBefore(now)) {
        target.add(1, "day");
      }

      return target.diff(now); // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø¨Ø§Ù„Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
    }

    // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ cache
    async function downloadImage(url) {
      const imagePath = path.join(process.cwd(), "cache", `${Date.now()}.jpg`);
      const response = await axios({
        url,
        method: "GET",
        responseType: "stream"
      });

      const writer = fs.createWriteStream(imagePath);
      response.data.pipe(writer);

      return new Promise((resolve, reject) => {
        writer.on("finish", () => resolve(imagePath));
        writer.on("error", reject);
      });
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ ØµÙˆØ±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯
    async function scheduleReminder(time, message, timezone) {
      const delay = calculateDelay(time, timezone);
      setTimeout(async () => {
        // Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        const randomImageUrl = imageUrls[Math.floor(Math.random() * imageUrls.length)];

        try {
          // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© ÙˆØ­ÙØ¸Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø¤Ù‚Øª
          const imagePath = await downloadImage(randomImageUrl);

          // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø©
          const attachment = {
            body: message,
            attachment: fs.createReadStream(imagePath)};

          // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø©
          api.sendMessage(attachment, event.threadID, event.messageID, async () => {
            // Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø¤Ù‚Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            await unlinkAsync(imagePath);
          });
        } catch (error) {
          console.error("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø£Ùˆ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©:", error);
          api.sendMessage("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©.", event.threadID, event.messageID);
        }

        // Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§
        setInterval(async () => {
          const randomImageUrl = imageUrls[Math.floor(Math.random() * imageUrls.length)];
          
          try {
            const imagePath = await downloadImage(randomImageUrl);
            const attachment = {
              body: message,
              attachment: fs.createReadStream(imagePath)
            };

            api.sendMessage(attachment, event.threadID, event.messageID, async () => {
              await unlinkAsync(imagePath);
            });
          } catch (error) {
            console.error("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø£Ùˆ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©:", error);
            api.sendMessage("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©.", event.threadID, event.messageID);
          }
        }, 24 * 60 * 60 * 1000); // Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© ÙƒÙ„ 24 Ø³Ø§Ø¹Ø©
      }, delay);
    }

    // Ø¬Ø¯ÙˆÙ„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù„Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
    reminders.forEach(reminder => {
      scheduleReminder(reminder.time, reminder.message, "Africa/Casablanca"); // Ø­Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù‡Ù†Ø§
    });

    // Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
    api.sendMessage("ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©!", event.threadID, event.messageID);
  }
};
