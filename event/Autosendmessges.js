import axios from 'axios';
import fs from 'fs';
import path from 'path';

// Ø¬Ù„Ø¨ ÙˆØ­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ cache
async function fetchAndSaveImage(imageURL, imageName) {
  const imagePath = path.join(process.cwd(), 'cache', imageName);
  try {
    const response = await axios({
      url: imageURL,
      method: 'GET',
      responseType: 'stream',
    });

    const writer = fs.createWriteStream(imagePath);
    response.data.pipe(writer);

    return new Promise((resolve, reject) => {
      writer.on('finish', () => resolve(imagePath));
      writer.on('error', reject);
    });
  } catch (error) {
    console.error('Error fetching image:', error);
    return null;
  }
}

export default {
  name: "autosendmessges",
  execute: async ({ api, event, Threads }) => {
    try {
      // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
      const threadsData = await Threads.find(event.threadID);
      const threads = threadsData?.data?.data || {};

      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
      if (!threads) {
        await Threads.create(event.threadID);
      }

      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙØ§Ø±ØºØ©ØŒ Ø£ÙˆÙ‚Ù Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
      if (!Object.keys(threads).length) return;

      // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„ØµÙˆØ± ÙÙŠ Ø£ÙˆÙ‚Ø§Øª Ù…Ø¬Ø¯ÙˆÙ„Ø©
      sendScheduledMessages(api, event.threadID);

    } catch (error) {
      console.error("Error handling thread update:", error);
    }
  },
};

// Ø¯Ø§Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ Ù…Ø¬Ø¯ÙˆÙ„Ø© Ù…Ø¹ Ø§Ù„ØµÙˆØ±
async function sendScheduledMessages(api, threadID) {
  const messagesWithImages = [
    { delay: 5000, text: `ÙˆÙ„ÙŠØ³ ÙƒÙ„ Ù…Ø§ØµØ±ÙÙ‡ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ùƒ Ø´Ø±ÙŒ Ù„Ùƒ Ù„Ø¹Ù„Ùƒ Ø£Ù†Øª Ø§Ù„Ø®ÙŠØ± Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ³ØªØ­Ù‚ÙˆÙ†Ù‡ ğŸ’™ğŸ’™.
ğ‘¨ğ’ğ’… ğ’ğ’ğ’• ğ’†ğ’—ğ’†ğ’“ğ’šğ’•ğ’‰ğ’Šğ’ğ’ˆ ğ’•ğ’‰ğ’‚ğ’• ğ‘®ğ’ğ’… ğ’”ğ’‘ğ’†ğ’ğ’• ğ’‡ğ’“ğ’ğ’ ğ’šğ’ğ’– ğ’Šğ’” ğ’†ğ’—ğ’Šğ’ ğ’‡ğ’ğ’“ ğ’šğ’ğ’–, ğ’‘ğ’†ğ’“ğ’‰ğ’‚ğ’‘ğ’” ğ’šğ’ğ’– ğ’‚ğ’“ğ’† ğ’•ğ’‰ğ’† ğ’ˆğ’ğ’ğ’… ğ’•ğ’‰ğ’‚ğ’• ğ’•ğ’‰ğ’†ğ’š ğ’…ğ’ ğ’ğ’ğ’• ğ’…ğ’†ğ’”ğ’†ğ’“ğ’—ğ’†.ğŸ’™ğŸ’™` ,
 imageURL: "https://i.imgur.com/L39Bu27.jpeg", imageName: "image1.jpg" },
    { delay: 10000, text: `Ù„Ø§ Ø´ÙŠ ÙŠØ¨Ù‚Ù€Ù€Ù€Ù‰ Ù„Ù„Ø£Ø¨Ø¯ Ø­ØªÙ‰ Ø§Ù„Ø´Ù…Ø³ Ø³Ù€ØªÚ¯Ø³Ø± Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ÙŠÙˆÙ…Ø§Ù‹ ÙˆØªØ´Ø±Ù‚ ØºØ±Ø¨Ø§Ù‹ Ù„ØªØ¹Ù„Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ©ğŸŒ·âœ¨
ğ‘µğ‘¶ğ‘»ğ‘¯ğ‘°ğ‘µğ‘® ğ‘¹ğ‘¬ğ‘´ğ‘¨ğ‘°ğ‘µğ‘º ğ‘­ğ‘¶ğ‘¹ğ‘¬ğ‘½ğ‘¬ğ‘¹, ğ‘¼ğ‘µğ‘»ğ‘°ğ‘³ ğ‘»ğ‘¯ğ‘¬ ğ‘ºğ‘¼ğ‘µ ğ‘¾ğ‘°ğ‘³ğ‘³ ğ‘©ğ‘¹ğ‘¬ğ‘¨ğ‘² ğŸŒ·âœ¨`, imageURL: "https://i.imgur.com/lTm8CtH.jpeg", imageName: "image2.jpg" },
    { delay: 15000, text: `-ğ‘«ğ’ğ’'ğ’• ğ’•ğ’“ğ’–ğ’”ğ’• ğ’”ğ’ğ’ğ’†ğ’ğ’ğ’† ğ’‹ğ’–ğ’”ğ’• ğ’ƒğ’†ğ’„ğ’‚ğ’–ğ’”ğ’† ğ’šğ’ğ’– ğ’ğ’Šğ’Œğ’† ğ’•ğ’‚ğ’ğ’Œğ’Šğ’ğ’ˆğ‘¾ğ’Šğ’•ğ’‰ ğ’‰ğ’Šğ’, ğ’ğ’Šğ’‡ğ’† ğ’‰ğ’‚ğ’” ğ’ƒğ’†ğ’„ğ’ğ’ğ’† ğ’‚ğ’”ğ’‘ğ’†ğ’„ğ’•ğ’” ğ’•ğ’‰ğ’‚ğ’• ğ’šğ’ğ’– ğ’„ğ’‚ğ’ ğ’„ğ’ğ’ğ’•ğ’†ğ’ğ’‘ğ’ğ’‚ğ’•ğ’† ğ’˜ğ’†ğ’ğ’. ğŸ¦‹âœ¨
-Ù„Ø§ØªØ«Ù‚ Ø¨Ø´Ø®Øµ Ù„Ù…Ø¬Ø±Ø¯ Ø§Ø¹Ø¬Ø¨Ùƒ Ø§Ù„Ø­Ø¯ÙŠØ«
Ù…Ø¹Ø© ÙØ§Ù„Ø­ÙŠØ§Ø© Ø£ØµØ¨Ø­Øª Ù…Ø¸Ø§Ù‡Ø± ØªØ§Ù…Ù„ÙˆÙ‡Ø§ Ø¬ÙŠØ¯Ø§ .ğŸ¦‹âœ¨` , imageURL: "https://i.imgur.com/2GgRzqu.jpeg", imageName: "image3.jpg" },
    { delay: 20000, text: `"â€Ø§Ù„Ù†Ø¸Ø±Ø§Øª Ù‚Ø§Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ø®ØªØµØ§Ø± Ø­Ø¯ÙŠØ« 
Ù…Ù† Ø³Ø¨Ø¹ÙŠÙ† Ø£Ù„Ù ÙƒÙ„Ù…Ø©.ğŸ¤
â€œğ‘³ğ’ğ’ğ’Œğ’” ğ’„ğ’‚ğ’ ğ’”ğ’‰ğ’ğ’“ğ’•ğ’†ğ’ ğ’‚ ğ’„ğ’ğ’ğ’—ğ’†ğ’“ğ’”ğ’‚ğ’•ğ’Šğ’ğ’ 
ğ‘ºğ’†ğ’—ğ’†ğ’ğ’•ğ’š ğ’•ğ’‰ğ’ğ’–ğ’”ğ’‚ğ’ğ’… ğ’˜ğ’ğ’“ğ’…ğ’”ğŸ¤` , imageURL: "https://i.imgur.com/cl9dHRU.png", imageName: "image4.jpg" },
    { delay: 25000, text: `ğ‘° ğ’ˆğ’‚ğ’—ğ’† ğ’ğ’š ğ’‡ğ’†ğ’†ğ’ğ’Šğ’ğ’ˆğ’” ğ’‚ğ’ğ’… ğ’†ğ’ğ’†ğ’“ğ’ˆğ’š ğ’ğ’ğ’„ğ’†, ğ’‚ğ’ğ’… ğ’‰ğ’†ğ’“ğ’† ğ‘° ğ’‡ğ’†ğ’ğ’ ğ’˜ğ’Šğ’•ğ’‰ ğ’ğ’š ğ’˜ğ’‰ğ’ğ’ğ’† ğ’˜ğ’†ğ’Šğ’ˆğ’‰ğ’• ğ’‚ğ’ğ’… ğ’„ğ’ğ’–ğ’ğ’… ğ’ğ’ğ’• ğ’ˆğ’†ğ’• ğ’–ğ’‘. ğŸ–¤
Ù„Ù‚Ø¯ ÙˆÙ‡Ø¨ØªÙ Ù…Ø´Ø§Ø¹Ø±ÙŠ Ùˆ Ø·Ø§Ù‚ØªÙŠ Ù…Ø±Ø©Ù‹ ÙˆØ§Ø­Ø¯Ø© ÙˆÙ‡Ø§ Ø£Ù†Ø§ Ø³ÙÙ‚Ø·Øª Ø¨Ø«Ù‚Ù„ÙŠ ÙƒÙ„Ù‡ Ùˆ Ù„Ù… Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„Ù†Ù‡ÙˆØ¶`, imageURL: "https://i.imgur.com/tb5JrpZ.jpeg", imageName: "image5.jpg" },
    { delay: 30000, text:  `Ù„Ø§ ÙŠÙ€Ù‡Ù€Ù…Ù€Ù†ÙŠ Ø¥Ù† ØºØ§Ø¯Ø±Ù†Ù€ÙŠ Ø§Ù„Ù€Ø¬Ù€Ù…ÙŠÙ€Ø¹ ØŒ ÙÙ€Ù…Ù€Ù†Ø° Ø§Ù„Ù€Ø¨Ù€Ø¯Ø§ÙŠÙ€Ø© Ø§Ø±Ø³Ù€Ù… Ù…Ù€Ø³Ù€ØªÙ€Ù‚Ø¨Ù„Ø§ Ù„Ø§ÙŠÙ€ÙˆØ¬Ù€Ø¯ ÙÙŠÙ‡ Ø§Ø­Ø¯..ğŸ¤ğŸª

ğ‘±ğ’† ğ’ğ’† ğ’‡ğ’Šğ’„ğ’‰ğ’† ğ’’ğ’–ğ’† ğ’•ğ’ğ’–ğ’• ğ’ğ’† ğ’ğ’ğ’ğ’…ğ’† ğ’ğ’† ğ’•ğ’“ğ’‚ğ’‰ğ’Šğ’”ğ’”ğ’†, ğ’…ğ’†ğ’‘ğ’–ğ’Šğ’” ğ’ğ’† ğ’…Ã©ğ’ƒğ’–ğ’• ğ’‹ğ’† ğ’…ğ’†ğ’”ğ’”ğ’Šğ’ğ’† ğ’–ğ’ ğ’‚ğ’—ğ’†ğ’ğ’Šğ’“ ğ’Ã¹ ğ’Šğ’ ğ’'ğ’š ğ’‚ ğ’‘ğ’†ğ’“ğ’”ğ’ğ’ğ’ğ’†..ğŸ¤ğŸªğŸ’—ğŸ¯`, imageURL: "https://i.imgur.com/cObPoNO.jpeg", imageName: "image5.jpg" },
{ delay: 35000, text: `ğ‘¯ğ’ğ’˜ğ’†ğ’—ğ’†ğ’“ ğ’…ğ’Šğ’‡ğ’‡ğ’Šğ’„ğ’–ğ’ğ’• ğ’ğ’Šğ’‡ğ’† ğ’ğ’‚ğ’š ğ’”ğ’†ğ’†ğ’, ğ’•ğ’‰ğ’†ğ’“ğ’† ğ’Šğ’” ğ’‚ğ’ğ’˜ğ’‚ğ’šğ’” ğ’”ğ’ğ’ğ’†ğ’•ğ’‰ğ’Šğ’ğ’ˆ ğ’šğ’ğ’– ğ’„ğ’‚ğ’ ğ’…ğ’ ğ’‚ğ’ğ’… ğ’”ğ’–ğ’„ğ’„ğ’†ğ’†ğ’… ğ’‚ğ’•ğŸ©µâœ¨
â€Ù…Ù‡Ù…Ø§ Ø¨Ø¯Øª Ø§Ù„Ø­ÙŠØ§Ø© ØµØ¹Ø¨Ù‡ØŒ ÙŠÙˆØ¬Ø¯ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø´ÙŠØ¡ÙŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù†Ø¬Ø§Ø­ ÙÙŠÙ‡.ğŸ©µâœ¨`, imageURL: "https://i.imgur.com/rAfXyDp.jpeg", imageName: "image5.jpg" },
    { delay: 40000, text: `ğ˜¾ğ™§ğ™®ğ™ğ™£ğ™œ iğ™®s ğ™£ğ™¤ğ™© ğ™– ğ™¨ğ™ğ™œğ™£ ğ™¤ğ™› ğ™¬ğ™šğ™–ğ™ ğ™£ğ™šğ™¨ğ™¨. ğ™ğ™¤ğ™¢ğ™šğ™©ğ™ğ™¢ğ™šğ™¨ ğ™– ğ™¥ğ™šğ™§ğ™¨ğ™¤ğ™£ ğ™˜ğ™§ğ™ğ™šğ™¨ ğ™—ğ™šğ™˜ğ™–ğ™ªğ™¨ğ™š ğ™ğ™š ğ™ğ™–ğ™¨ ğ™—ğ™šğ™šğ™£ ğ™¨ğ™©ğ™§ğ™¤ğ™£ğ™œ ğ™›ğ™¤ğ™§ ğ™– ğ™¡ğ™¤ğ™£ğ™œ ğ™©ğ™ğ™¢ğ™š. ğŸ–¤ğŸ¥€
Ù„ÙŠØ³ Ø§Ù„Ø¨ÙƒØ§Ø¡ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¶Ø¹ÙØŒ Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ ÙŠØ¨ÙƒÙŠ Ø§Ù„Ø´Ø®Øµ Ù„Ø£Ù†Ù‡ ÙƒØ§Ù† Ù‚ÙˆÙŠ Ù„ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø©.ğŸ–¤ğŸ¥€`, imageURL: "https://i.imgur.com/2lJlHJA.jpeg", imageName: "image5.jpg" },
{ delay: 45000, text:`â€"Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù† Ø¨Ø¹Ø¶ Ø§Ù„Ù†Ø§Ø³ Ù‚Ø¯ Ù‚Ø¶ÙˆØ§ Ø§Ù„ÙˆÙ‚Øª Ù…Ø¹ÙŠ Ù„Ø£Ù†Ù‡Ù… ÙÙ‚Ø· ÙƒØ§Ù†ÙˆØ§ ÙˆØ­ÙŠØ¯ÙŠÙ†".ğŸ–¤ğŸ¥€
â€œğ™„ ğ™©ğ™ğ™ğ™£ğ™  ğ™¨ğ™¤ğ™¢ğ™š ğ™¥ğ™šğ™¤ğ™¥ğ™¡ğ™š ğ™¨ğ™¥ğ™šğ™£ğ™© ğ™©ğ™ğ™¢ğ™š ğ™¬ğ™ğ™©ğ™ ğ™¢ğ™š ğ™—ğ™šğ™˜ğ™–ğ™ªğ™¨ğ™š ğ™©ğ™ğ™šğ™® ğ™¬ğ™šğ™§ğ™š ğ™Ÿğ™ªğ™¨ğ™© ğ™¡ğ™¤ğ™£ğ™šğ™¡ğ™®.â€ğŸ–¤ğŸ¥€`, imageURL: "https://i.imgur.com/tHVgnAv.jpeg", imageName: "image5.jpg" },
    { delay: 50000, text:  `Ø£Ù†Ø§ Ø°Ù„Ùƒ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ÙŠØ±Ø´Ø¯ Ø§Ù„ØªØ§Ø¦Ù‡ÙŠÙ† ÙˆÙ„Ø§ ÙŠØ¹Ø±Ù ÙƒÙŠÙ ÙŠØºØ§Ø¯Ø± Ø§Ù„Ù…ØªØ§Ù‡Ø©.ğŸ¤ğŸŒª

ğ’Š ğ’‚ğ’ ğ’•ğ’‰ğ’† ğ’‘ğ’†ğ’“ğ’”ğ’ğ’ ğ’˜ğ’‰ğ’ ğ’ˆğ’–ğ’Šğ’…ğ’†ğ’” ğ’•ğ’‰ğ’† ğ’˜ğ’‚ğ’ğ’…ğ’†ğ’“ğ’Šğ’ğ’ˆ ğ’‚ğ’ğ’… ğ’…ğ’ ğ’ğ’ğ’• ğ’Œğ’ğ’ğ’˜ ğ’‰ğ’ğ’˜ ğ’•ğ’ ğ’ğ’†ğ’‚ğ’—ğ’† ğ’•ğ’‰ğ’† ğ’ğ’‚ğ’›ğ’†.ğŸ¤ğŸŒª` , imageURL: "https://i.imgur.com/4HIFOiZ.jpeg", imageName: "image5.jpg" },
{ delay: 55000, text:`Ø£Ù† ÙŠÙÙƒÙˆÙ† Ù„Ùƒ ØµÙØ¯ÙŠÙ‚ ÙŠÙØ±Ø§Ùƒ ÙˆÙƒØ£Ù†Ù‘Ùƒ Ø§Ù„Ø®ÙŠØ± ÙÙŠ
Ù‡Ø°Ù‡Ù Ø§Ù„Ø£Ø±Ø¶ØŒ Ø´ÙØ¹ÙˆØ± Ù„Ø§ ÙŠÙÙ…ÙƒÙ†Ùƒ Ø£Ù† ØªÙØ¶Ø¹Ù‡ ÙÙŠ
ÙƒÙ„Ù…Ø§ØªÙ Ù…ÙÙ†Ø§Ø³ÙØ¨Ø©.ğŸ’–"
ğ™ğ™¤ ğ™ğ™–ğ™«ğ™š ğ™– ğ™›ğ™§ğ™ğ™šğ™£ğ™™ ğ™¬ğ™ğ™¤ ğ™¨ğ™šğ™šğ™¨ ğ™®ğ™¤ğ™ª ğ™–ğ™¨ ğ™©ğ™ğ™š ğ™—ğ™šğ™¨ğ™© ğ™ğ™£ ğ™®ğ™¤ğ™ª
ğ™ğ™ğ™ğ™¨ ğ™šğ™–ğ™§ğ™©ğ™, ğ™– ğ™›ğ™šğ™šğ™¡ğ™ğ™£ğ™œ ğ™®ğ™¤ğ™ª ğ™˜ğ™–ğ™£'ğ™© ğ™¥ğ™ªğ™© ğ™ğ™£
ğ™ğ™ªğ™ğ™©ğ™–ğ™—ğ™¡ğ™š ğ™¬ğ™¤ğ™§ğ™™ğ™¨.ğŸ’–` , imageURL: "https://i.imgur.com/O7NTeg8.jpeg", imageName: "image5.jpg" },
    { delay: 60000, text: `-Ø§Ù„ØºØ§Ø¦Ø¨ÙˆÙ† Ø¨Ù„Ø§ Ø¹Ø°Ø± ÙƒØ§Ù„Ø­Ø§Ø¶Ø±ÙŠÙ† Ø¨Ù„Ø§ ÙØ§Ø¦Ø¯Ø© ØŒ ÙƒÙ„Ø§Ù‡Ù…Ø§ ÙŠØ´ØºÙ„ Ø­ÙŠØ²Ø§Ù‹ ï»» ÙŠØ³ØªØ­Ù‚Ù‡.ğŸ’¨
- ğ‘‡â„ğ‘œğ‘ ğ‘’ ğ‘¤â„ğ‘œ ğ‘ğ‘Ÿğ‘’ ğ‘ğ‘ğ‘ ğ‘’ğ‘›ğ‘¡ ğ‘¤ğ‘–ğ‘¡â„ğ‘œğ‘¢ğ‘¡ ğ‘’ğ‘¥ğ‘ğ‘¢ğ‘ ğ‘’ ğ‘ğ‘Ÿğ‘’ ğ‘™ğ‘–ğ‘˜ğ‘’ ğ‘¡â„ğ‘œğ‘ ğ‘’ ğ‘¤â„ğ‘œ ğ‘ğ‘Ÿğ‘’ ğ‘ğ‘Ÿğ‘’ğ‘ ğ‘’ğ‘›ğ‘¡ ğ‘¤ğ‘–ğ‘¡â„ğ‘œğ‘¢ğ‘¡ ğ‘ğ‘’ğ‘›ğ‘’ğ‘“ğ‘–ğ‘¡. ğµğ‘œğ‘¡â„ ğ‘œğ‘“ ğ‘¡â„ğ‘’ğ‘š ğ‘œğ‘ğ‘ğ‘¢ğ‘ğ‘¦ ğ‘ ğ‘ğ‘ğ‘ğ‘’ ğ‘¡â„ğ‘ğ‘¡ ğ‘¡â„ğ‘’ğ‘¦ ğ‘‘ğ‘œ ğ‘›ğ‘œğ‘¡ ğ‘‘ğ‘’ğ‘ ğ‘’ğ‘Ÿğ‘£ğ‘’.ğŸ’¨` , imageURL: "https://i.imgur.com/2B7aLoZ.jpeg", imageName: "image5.jpg" },

  ];

  for (const { delay, text, imageURL, imageName } of messagesWithImages) {
    setTimeout(async () => {
      const imagePath = await fetchAndSaveImage(imageURL, imageName);

      if (imagePath) {
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø©
        api.sendMessage(
          {
            body: text,
            attachment: [fs.createReadStream(imagePath)],
          },
          threadID
        );
      } else {
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¯ÙˆÙ† ØµÙˆØ±Ø© ÙÙŠ Ø­Ø§Ù„Ø© Ø­Ø¯ÙˆØ« Ø®Ø·Ø£ ÙÙŠ ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
        api.sendMessage(text, threadID);
      }
    }, delay);
  }
}
